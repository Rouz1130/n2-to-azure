/*! 2017-08-18 11:54:07 */

!function(a){"use strict";function b(a){return a.data(o)}function c(a){for(var b=new google.maps.LatLngBounds,c=0;c<a.length;c++)b.extend(a[c].getPosition());return b}function d(a,b){var c,d={add:[],remove:[]};for(c=0;c<a.length;c++)e(b,a[c])>=0||d.remove.push(a[c]);for(c=0;c<b.length;c++)f(a,b[c])>=0||d.add.push(b[c]);return d}function e(a,b){for(var c=0;c<a.length;c++)if(a[c].id==b.pin.id)return c;return-1}function f(a,b){for(var c=0;c<a.length;c++)if(a[c].pin.id==b.id)return c;return-1}function g(a,b){var c=b.position,d={lat:c.latitude,lng:c.longitude},e=new google.maps.Marker({position:d,icon:b.image||a.pinImage});a.markers.push(e),e.pin=b,e.setMap(a.gmap),function(b){var c=function(c){a.infoWindow.setOptions({content:b.pin.popup}),a.infoWindow.open(a.gmap,b),"function"==typeof a.onPinOpenedInternal&&a.onPinOpenedInternal(b.pin)};b.addListener("click",c)}(e)}function h(a,b){var c=a.markers.indexOf(b);a.markers.splice(c,1),b.setMap(null)}function i(a,b){a.geocoder=a.geocoder||new google.maps.Geocoder,a.geocoder.geocode({address:b,language:a.options.languageCode},function(b,c){if(c==google.maps.GeocoderStatus.OK){var d=b[0];if(a.gmap.fitBounds(d.geometry.bounds),"function"!=typeof a.onGeocodeInternal)return;a.onGeocodeInternal({address:d.formatted_address,count:b.length,countryRegion:j(d.address_components),latitude:d.geometry.location.lat(),longitude:d.geometry.location.lng(),name:d.address_components[0].long_name,provider:"Google",type:d.types.join(",")})}else{if(console.warn("Supplied location could not be geocoded."),"function"!=typeof a.onGeocodeInternal)return;a.onGeocodeInternal({provider:"Google",count:0})}})}function j(a){var b=a.filter(k);return b.length>0?b[0].long_name:null}function k(a){return a.types.filter(function(a){return"country"===a}).length>0}function l(a,b){"mouseover"==b?(clearTimeout(a.hoverTimeout),a.hoverTimeout=setTimeout(function(){m(a,"Hover")},3e3)):"mouseout"==b&&clearTimeout(a.hoverTimeout)}function m(a,b){"function"==typeof a.onInteractionInternal&&a.onInteractionInternal(b)}function n(a,b){a.gmap.setCenter(b),"function"==typeof a.onCenterSetInternal&&a.onCenterSetInternal(b)}var o="em.map",p=function(b,c){a(b).addClass("map-google"),this.gmap=new google.maps.Map(b,{mapTypeControlOptions:{mapTypeIds:["Styled"]},center:new google.maps.LatLng(c.center.latitude,c.center.longitude),disableDoubleClickZoom:!!c.disableZoom,draggable:!c.disableMouse,mapTypeControl:!1,mapTypeId:"Styled",scaleControl:c.showScale,showDashboard:!c.disableZoom,zoom:c.zoom,zoomControl:!c.disableZoom}),this.markers=[],this.options=a.extend({culture:"en-us"},c),this.pinImage=c.pin.image,this.infoWindow=new google.maps.InfoWindow,this.boundsChangedTimeout=0;var d=new google.maps.StyledMapType(r,{name:"Styled"});this.gmap.mapTypes.set("Styled",d)};p.TYPE="Google",p.VERSION="1.0",p.prototype.setPins=function(a){var c,e=b(this),f=d(e.markers,a);for(c=0;c<f.add.length;c++)g(e,f.add[c]);for(c=0;c<f.remove.length;c++)h(e,f.remove[c])},p.prototype.setBoundaryToPins=function(){var a=b(this);switch(a.markers.length){case 0:return;case 1:return n(a,a.markers[0].getPosition()),void a.gmap.setZoom(8);default:var d=c(a.markers);return void a.gmap.fitBounds(d)}},p.prototype.onBoundaryChanged=function(a){var c=b(this).gmap;c.addListener("bounds_changed",function(){clearTimeout(c.boundsChangedTimeout),c.boundsChangedTimeout=setTimeout(function(){var b=c.getBounds(),d=b.getNorthEast(),e=b.getSouthWest(),f={latitude1:e.lat(),latitude2:d.lat(),longitude1:e.lng(),longitude2:d.lng()};a(f)},300)})},p.prototype.onCenterSet=function(a){b(this).onCenterSetInternal=a},p.prototype.onGeocode=function(a){b(this).onGeocodeInternal=a},p.prototype.onInteraction=function(a){b(this).onInteractionInternal=a},p.prototype.onPinOpened=function(a){b(this).onPinOpenedInternal=a},p.prototype.center=function(a){var c=b(this);"string"==typeof a?i(c,a):"object"==typeof a&&c.gmap.setCenter(new google.maps.LatLng(a.latitude,a.longitude))},p.prototype.zoom=function(a){b(this).gmap.setZoom(a)};var q=function(b){var c=arguments.length>1?arguments[1]:void 0;return this.each(function(){var d=a(this),e=d.data(o);e||d.data(o,e=new p(this,b)),"string"==typeof b&&"function"==typeof e[b]?e[b].call(d,c):(e.gmap.addListener("dragend",function(){m(e,"Drag")}),e.gmap.addListener("zoom_changed",function(){m(e,"Zoom")}),e.gmap.addListener("mouseover",function(){l(e,"mouseover")}),e.gmap.addListener("mouseout",function(){l(e,"mouseout")}))})};a.fn.mapify=q,a.fn.mapify.Constructor=p;var r=[{elementType:"geometry.fill",stylers:[{color:"#efefea"}]},{elementType:"labels.text.fill",stylers:[{color:"#4a3c31"}]},{featureType:"administrative.land_parcel",elementType:"geometry.fill",stylers:[{color:"#bae5ce"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#f5f5f2"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#bae5ce"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#bae5ce"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{color:"#bae5ce"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#bae5ce"}]},{featureType:"poi.park",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",elementType:"geometry.fill",stylers:[{color:"#bae5ce"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#fac9a9"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#fac9a9"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"labels.text",stylers:[{color:"#4a3c31"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c7eced"}]},{featureType:"water",elementType:"labels.text",stylers:[{color:"#4a3c31"}]}]}(window.jQuery);